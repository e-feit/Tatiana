{# Базовый шаблон для страниц для залогиненного пользователя #}

{% extends "base.html" %}

{% block body %}

<nav class="navbar">
	<a class="navbar__item navbar__item--clickable {% if request.path == url_for('app.pages.home.home.index') %}navbar__item--active{% endif %}" href={{ url_for('app.pages.home.home.index') }}>
		<i class="fas fa-home"></i> <span class="navbar__label">Управление</span>
	</a>
	<a class="navbar__item navbar__item--clickable {% if request.path == url_for('app.pages.planning.planning.index') %}navbar__item--active{% endif %}" href={{ url_for('app.pages.planning.planning.index') }}>
		<i class="fas fa-clock"></i> <span class="navbar__label">Планирование</span>
	</a>
	<a class="navbar__item navbar__item--clickable {% if request.path == url_for('app.pages.events.events.index') %}navbar__item--active{% endif %}" href={{ url_for('app.pages.events.events.index') }}>
		<i class="fas fa-eye"></i> <span class="navbar__label">События</span>
	</a>
	<a class="navbar__item navbar__item--clickable {% if request.path == url_for('app.pages.maintenance.maintenance.index') %}navbar__item--active{% endif %}" href={{ url_for('app.pages.maintenance.maintenance.index') }}>
		<i class="fab fa-linux"></i> <span class="navbar__label">Сервис</span>
	</a>
	<div class="navbar__item navbar__item--dynamic-space"></div>
	<div class="navbar__item navbar__item--clickable logout" id="logout-btn">
		<i class="fas fa-sign-out-alt"></i>
	</div>
</nav>

<div class="content">
{% block content %}{% endblock %}
</div>

<script>
	(() => {
		document.querySelector('#logout-btn').addEventListener('click', async () => {
			if (confirm('Что, уже?')) {
				await fetch('/logout');
				location.reload();
			}
		});
	})();
</script>

{% endblock %}